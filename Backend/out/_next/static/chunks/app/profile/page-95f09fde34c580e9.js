(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{7186:(e,t,r)=>{Promise.resolve().then(r.bind(r,2303))},6225:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(5155),l=r(2115),s=r(6046),n=r(8173),i=r.n(n),o=r(5565);let c=e=>{let{isAuthenticated:t,displayName:r}=e,n=(0,s.usePathname)(),[c,d]=(0,l.useState)(!1),g=r?r.charAt(0).toUpperCase():"P";return(0,a.jsxs)("nav",{className:"absolute top-0 left-0 w-full bg-white bg-opacity-90 shadow-md px-6 py-4 flex items-center justify-between z-50",children:[(0,a.jsx)(i(),{href:"/",children:(0,a.jsx)(o.default,{src:"/logo.jpg",alt:"Company Logo",width:200,height:80,className:"cursor-pointer"})}),"/login"!==n&&(0,a.jsx)(a.Fragment,{children:t&&(0,a.jsxs)("div",{className:"relative flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>d(e=>!e),className:"focus:outline-none","aria-label":"Toggle navigation menu",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-green-700 hover:text-green-800",fill:"none",stroke:"currentColor",strokeWidth:"3",viewBox:"0 0 20 10",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("polyline",{points:"0,0 10,10 20,0",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsx)(i(),{href:"/profile",children:(0,a.jsx)("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-green-700 hover:bg-green-800 text-white font-bold",children:g})}),c&&(0,a.jsx)("div",{className:"absolute right-0 top-full mt-2 w-40 bg-white border border-green-700 rounded-md shadow-lg z-50",children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(i(),{href:"/map",onClick:()=>d(!1),className:"block px-4 py-2 hover:bg-green-100 ".concat("/map"===n?"text-green-600":"text-green-800"),children:"Map"})}),(0,a.jsx)("li",{children:(0,a.jsx)(i(),{href:"/about",onClick:()=>d(!1),className:"block px-4 py-2 hover:bg-green-100 ".concat("/about"===n?"text-green-600":"text-green-800"),children:"About"})}),(0,a.jsx)("li",{children:(0,a.jsx)(i(),{href:"/image",onClick:()=>d(!1),className:"block px-4 py-2 hover:bg-green-100 ".concat("/image"===n?"text-green-600":"text-green-800"),children:"Image"})})]})})]})})]})}},9839:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});var a=r(9904),l=r(4565),s=r(7058);let n=(0,a.Wp)({apiKey:"AIzaSyBY1AP28wPCEgRLpNw6oAI5Ut3_XTx1a0A",authDomain:"pathpetal-d19a1.firebaseapp.com",projectId:"pathpetal-d19a1",storageBucket:"pathpetal-d19a1.firebasestorage.app",messagingSenderId:"1034300337833",appId:"1:1034300337833:web:e22cf0f6385341382003b8",measurementId:"G-6Y6NB38T0H"}),i=(0,l.xI)(n);(0,s.aU)(n)},161:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(5155);r(2115);var l=r(2651);let s=e=>{let{name:t,image:r,latitude:s,longitude:n,description:i,onClose:o,onDelete:c}=e,d=async()=>{try{let e=new FormData;e.append("name",t),e.append("lat",s),e.append("lng",n);let r=await l.A.delete("".concat("http://127.0.0.1:5000","/delete_marker"),{headers:{"Content-Type":"multipart/form-data"},data:e});console.log("Response from delete_marker:",r),c(t,s,n)}catch(e){console.error("There was an error deleting the marker:",e)}};return(0,a.jsxs)("div",{className:"relative bg-white shadow-lg rounded-lg p-4 w-80 mx-auto mt-10",children:[(0,a.jsx)("button",{className:"absolute top-2 right-2 text-gray-500",onClick:o,children:"❌"}),(0,a.jsx)("img",{src:r,alt:t,className:"w-full h-40 object-cover rounded-lg"}),(0,a.jsx)("h2",{className:"text-lg font-bold mt-2",children:t}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm",children:["\uD83D\uDCCD ",s,", ",n]}),(0,a.jsx)("p",{className:"mt-2 text-gray-700",children:i}),(0,a.jsx)("button",{className:"mt-4 bg-red-500 text-white px-4 py-2 rounded-md w-full hover:bg-red-600",onClick:d,children:"Delete Marker"})]})}},2303:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(5155),l=r(2115),s=r(6225),n=r(9839),i=r(4565),o=r(2651),c=r(161);let d=()=>{let[e,t]=(0,l.useState)(null),[r,d]=(0,l.useState)(!0),[g,m]=(0,l.useState)([]),[x,h]=(0,l.useState)(""),p="http://127.0.0.1:5000";(0,l.useEffect)(()=>{let e=n.j.onAuthStateChanged(e=>{t(e),d(!1)});return()=>e()},[]),(0,l.useEffect)(()=>{e&&e.email&&o.A.get("".concat(p,"/getUserReportsInfo?email=").concat(e.email)).then(e=>{m(e.data)}).catch(e=>{console.error("Error fetching user reports:",e),h("Could not load your plant reports at this time.")})},[e,p]);let u=(e,t,r)=>{m(a=>a.filter(a=>!(a.plant_name===e&&a.lat===t&&a.lng===r)))},b=(e,t,r)=>{m(a=>a.filter(a=>!(a.plant_name===e&&a.lat===t&&a.lng===r)))};return r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.A,{isAuthenticated:!1}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-green-50 to-green-100",children:(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Loading profile..."})})]}):e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.A,{isAuthenticated:!0}),(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-green-100 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-green-800 text-center mb-8 pt-6",children:"Your Profile"}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-12 border border-green-100 max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-green-700",children:"Full Name"}),(0,a.jsx)("p",{className:"text-lg text-green-900 p-3 bg-green-50 rounded-lg",children:e.displayName||"Not provided"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-green-700",children:"Email Address"}),(0,a.jsx)("p",{className:"text-lg text-green-900 p-3 bg-green-50 rounded-lg",children:e.email})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-green-700",children:"Account Since"}),(0,a.jsx)("p",{className:"text-lg text-green-900 p-3 bg-green-50 rounded-lg",children:new Date(e.metadata.creationTime).toLocaleDateString()})]})]}),(0,a.jsx)("button",{onClick:async()=>{try{await (0,i.CI)(n.j),window.location.href="/login"}catch(e){console.error("Sign-out error:",e)}},className:"w-full py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold rounded-lg transition-all transform hover:scale-[1.01]",children:"Sign Out"})]}),x&&(0,a.jsx)("div",{className:"mb-4 text-center",children:(0,a.jsx)("p",{className:"text-red-600",children:x})}),(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-green-800 mb-6 text-center",children:"Your Plant Reports"}),0===g.length?(0,a.jsx)("div",{className:"text-center p-8 bg-white rounded-xl border border-green-100",children:(0,a.jsx)("p",{className:"text-gray-600 text-lg",children:"No reports submitted yet. Start by reporting an invasive plant!"})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((e,t)=>(0,a.jsx)(c.A,{name:e.plant_name,image:e.image,latitude:e.lat,longitude:e.lng,description:e.description,onClose:()=>b(e.plant_name,e.lat,e.lng),onDelete:()=>u(e.plant_name,e.lat,e.lng)},t))})]})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.A,{isAuthenticated:!1}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-green-50 to-green-100",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-green-800 mb-6",children:"Profile"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Please log in to view your profile"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,895,996,651,441,517,358],()=>t(7186)),_N_E=e.O()}]);